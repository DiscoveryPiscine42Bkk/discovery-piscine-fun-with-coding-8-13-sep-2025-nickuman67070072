<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mini To Do</title>
  <style>
    #ft_list {
      border: 1px solid black;
      padding: 10px;
      width: 200px;
      min-height: 50px;
    }
    #ft_list div {
      background: lightgray;
      margin: 5px 0;
      padding: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>Mini To Do</h2>
  <button onclick="newTodo()">New</button>
  <div id="ft_list"></div>

  <script>
    function setCookie(name, value, days) {
      const d = new Date();
      d.setTime(d.getTime() + (days*24*60*60*1000));
      document.cookie = name + "=" + encodeURIComponent(value) + ";expires=" + d.toUTCString() + ";path=/";
    }

    function getCookie(name) {
      const cname = name + "=";
      const decoded = decodeURIComponent(document.cookie);
      const ca = decoded.split(';');
      for(let i=0;i<ca.length;i++) {
        let c = ca[i].trim();
        if (c.indexOf(cname) === 0) {
          return c.substring(cname.length,c.length);
        }
      }
      return "";
    }

    function saveTodos() {
      const items = [];
      document.querySelectorAll("#ft_list div").forEach(el => {
        items.push(el.textContent);
      });
      setCookie("todos", JSON.stringify(items), 7); // keep 7 days
    }

    function loadTodos() {
      const data = getCookie("todos");
      if (data) {
        try {
          const items = JSON.parse(data);
          items.forEach(text => addTodo(text, false));
        } catch(e){}
      }
    }

    function addTodo(text, save=true) {
      if (!text) return;
      const div = document.createElement("div");
      div.textContent = text;
      div.onclick = function() {
        if (confirm("Do you want to remove this TO DO?")) {
          div.remove();
          saveTodos();
        }
      };
      const list = document.getElementById("ft_list");
      list.insertBefore(div, list.firstChild);
      if (save) saveTodos();
    }

    function newTodo() {
      const task = prompt("Enter a new TO DO:");
      if (task && task.trim() !== "") {
        addTodo(task.trim());
      }
    }

    loadTodos();
  </script>
</body>
</html>
